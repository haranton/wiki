---
order: 5
title: Транзакции
---

## Общепринятый паттерн

```
НачатьТранзакцию();
Попытка
    ... // чтение или запись данных
    ЗафиксироватьТранзакцию();
Исключение
    ОтменитьТранзакцию();
    ... // дополнительные действия по обработке исключения
КонецПопытки;
```



Обязательно логируем ошибки в жр

```
НачатьТранзакцию();
Попытка
    ... // чтение или запись данных
    ЗафиксироватьТранзакцию();
Исключение
    ОтменитьТранзакцию();
    ... // дополнительные действия по обработке исключения
	ЗаписьЖурналаРегистрации(НСтр("ru = 'Выполнение операции'"),
		 УровеньЖурналаРегистрации.Ошибка,,, ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));
КонецПопытки;
```



Правильно описание ошибки



***Неправильно:***

```
// Ошибка: отсутствует текст строки, вызвавшей ошибку
ТекстОшибки = ОписаниеОшибки(); 
// {ОбщийМодуль.ОбщегоНазначения.Модуль(2)}: Деление на 0

// Ошибка: отсутствует и стек и текст строки, вызвавшей ошибку
ТекстОшибки = КраткоеПредставлениеОшибки(ИнформацияОбОшибке());
// Деление на 0
```

***Правильно:***

```
// Так уже лучше: теперь тексте ошибки есть и "й=1/0;" и полный стек вызовов
ТекстОшибки = ПодробноеПредставлениеОшибки(ИнформацияОбОшибке());
//Деление на 0
//{ОбщийМодуль.ОбщегоНазначения.Модуль(2)}:й=1/0;
//{ВнешняяОбработка.ВнешняяОбработка1.Форма.Форма.Форма(61)}:А = ОбщегоНазначения.ЗначениеРеквизитаОбъе
```